 <!DOCTYPE html>
<html>
<head>
    <title>Pixel Editor</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3-theme-blue.css"> 
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="canvasHolder">
        <canvas id="mainCanvas" style="width: 100%; height: 100%;"></canvas>
        <canvas id="uiCanvas" style="width: 100%; height: 100%;"></canvas>
        <canvas id="selectionCanvas" style="width: 100%; height: 100%;"></canvas>
    </div>

    <footer class="tool-menu">
        <div id="toolMenuButton" onclick="GUI.open(GUI.TOOL_MENU)"></div>
        <input type="file" onchange="loadFile()" id="fileInput">
        <a id="downloadLink" onclick="downloadImage()">Download</a>
        <button onclick="grayscale()">Greyscale</button>
    </footer>

    <div id="toolMenu" class="w3-modal">
        <div class="w3-modal-content">
            <div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(Pencil)">
                    <img src="Icons/pencil.png" alt="pencil tool">
                </div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(Eraser)">
                    <img src="Icons/Erase-50.png" alt="Eraser tool">
                </div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(ColorPicker)">
                    <img src="Icons/Color_picker.png" alt="Color picker tool">
                </div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(Hand)">
                    <img src="Icons/Hand.png" alt="Hand tool">
                </div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(Zoom)">
                    <img src="Icons/Search.png" alt="Zoom tool">
                </div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(PaintBucket)">
                    <img src="Icons/PaintBucket.png" alt="Paint Bucket tool">
                </div>
                <div class="toolButton" onclick="GUI.toolButtonClicked(BrushSelection)">
                    <img src="Icons/pencil.png" alt="Brush selection tool">
                </div>
            </div>
        </div>
    </div>
  
</div>
</body>
    <script src="setup.js"></script>
    <script src="fileOperations.js"></script>
    <script src="tools.js"></script>
    <script src="gui.js"></script>
    <script>
        function grayscale()
        {
            Application.imageData = Application.gc.getImageData(0,0,Application.canvas.width, Application.canvas.height);
            Application.data = Application.imageData.data;
            for (var i=0; i<data.length; i+=4) 
            {
                var r = Application.data[i];
                var g = Application.data[i+1];
                var b = Application.data[i+2];
                var v = 0.2126*r + 0.7152*g + 0.0722*b;
                Application.data[i] = Application.data[i+1] = Application.data[i+2] = v;
            }
            Application.gc.putImageData(Application.imageData, 0, 0);
        }
    </script>
</html> 